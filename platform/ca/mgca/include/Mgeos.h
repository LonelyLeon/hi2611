/***********************************************************************************************
文件名称    ：Mgeos.h
功能描述    ：为三洲讯驰CA提供的接口函数
版权        ：
部门        ：
作者        ：单海龙
注意事项    ： 

历史版本    ：
版 本       日 期         作 者        内 容                                  参照文档
1.0         2007-11-26    单海龙       创建文件                    《MG_CA移植文档.v2.8.2.0 》
*************************************************************************************************/
#ifndef _MGEOS_H_
#define _MGEOS_H_

/**************************************Include*************************************************/
#include "dca/mgdef.h"
/***************************************Include End********************************************/

/**************************************Ref to Function******************************************/
//------------------------------------------------------------------
// 向智能卡发送命令，并接受应答。P8
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Send_Command(MG_U8 *MG_SendComm, 
		MG_U8 MG_CommLen, MG_U8 *MG_RecvResp,MG_U16 *SW, MG_U8 * NumberRead);
//------------------------------------------------------------------
// ★建立信号量
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Create_Semaphore(void);

//------------------------------------------------------------------
// ★获取信号量
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Obtain_Semaphore(void);

//------------------------------------------------------------------
// ★释放信号量
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Release_Semaphore(void);

#if (defined (MGCA_V312))
//------------------------------------------------------------------
// 复位智能卡，并返回应答信息。
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Reset_Card(MG_U8 *MG_RespData);
//------------------------------------------------------------------
// 关闭智能卡，并返回应答信息。
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Close_Card(void);

//------------------------------------------------------------------
// ★删除信号量 
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Delete_Semaphore(void);

//------------------------------------------------------------------
// ★获取机顶盒当前时间片
//------------------------------------------------------------------
extern MG_U32 MG_STBPort_Get_OSTime(void);

//------------------------------------------------------------------
// ★计算从time1开始，经过time2后所得到的时间片
//------------------------------------------------------------------
extern MG_U32 MG_STBPort_Add_OSTime(MG_U32 time1, MG_U32 time2);

//------------------------------------------------------------------
// ★机顶盒两时间差的计算
//------------------------------------------------------------------
extern MG_U32 MG_STBPort_Minus_OSTime(MG_U32 time1,MG_U32 time2);

//------------------------------------------------------------------
// ★获取相当于实际一秒钟的时间片数
//------------------------------------------------------------------
extern MG_U32 MG_STBPort_Get_OSTime_Ticks(void);

//------------------------------------------------------------------
// ★允许任务调度
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Enable_Scheduler(void);

//------------------------------------------------------------------
// ★禁止任务调度
//------------------------------------------------------------------
extern MG_STATUS MG_STBPort_Disable_Scheduler(void);
#endif
/**************************************Ref to Function End**************************************/

#endif
